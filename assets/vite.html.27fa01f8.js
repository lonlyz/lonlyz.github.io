import{_ as p,o as d,c as D,a as n,b as s,w as o,d as e,e as t,r as a}from"./app.2d179ac6.js";const u={},v=s("h1",{id:"vite",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#vite","aria-hidden":"true"},"#"),e(" Vite")],-1),h=e("Vite \u6253\u5305\u5DE5\u5177\u662F\u7531 "),y={href:"https://www.npmjs.com/package/@vuepress/bundler-vite",target:"_blank",rel:"noopener noreferrer"},_=e("@vuepress/bundler-vite"),m=e(" \u5305\u63D0\u4F9B\u7684\u3002\u5B83\u662F "),b={href:"https://www.npmjs.com/package/vuepress",target:"_blank",rel:"noopener noreferrer"},C=e("vuepress"),E=e(" \u5305\u7684\u4F9D\u8D56\u4E4B\u4E00\uFF0C\u5F53\u7136\u4F60\u4E5F\u53EF\u4EE5\u5355\u72EC\u5B89\u88C5\u5B83\uFF1A"),f=t(`<div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">npm i -D @vuepress/bundler-vite@next</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="\u914D\u7F6E\u9879" tabindex="-1"><a class="header-anchor" href="#\u914D\u7F6E\u9879" aria-hidden="true">#</a> \u914D\u7F6E\u9879</h2><p>Vite \u6253\u5305\u5DE5\u5177\u7684\u914D\u7F6E\u9879\uFF1A</p>`,3),g=s("div",{class:"language-javascript ext-js line-numbers-mode"},[s("pre",{class:"shiki",style:{"background-color":"#1E1E1E"}},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#569CD6"}},"const"),s("span",{style:{color:"#D4D4D4"}}," { "),s("span",{style:{color:"#4FC1FF"}},"viteBundler"),s("span",{style:{color:"#D4D4D4"}}," } = "),s("span",{style:{color:"#DCDCAA"}},"require"),s("span",{style:{color:"#D4D4D4"}},"("),s("span",{style:{color:"#CE9178"}},"'@vuepress/bundler-vite'"),s("span",{style:{color:"#D4D4D4"}},")")]),e(`
`),s("span",{class:"line"}),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#4EC9B0"}},"module"),s("span",{style:{color:"#D4D4D4"}},"."),s("span",{style:{color:"#4EC9B0"}},"exports"),s("span",{style:{color:"#D4D4D4"}}," = {")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4"}},"  "),s("span",{style:{color:"#9CDCFE"}},"bundler:"),s("span",{style:{color:"#D4D4D4"}}," "),s("span",{style:{color:"#DCDCAA"}},"viteBundler"),s("span",{style:{color:"#D4D4D4"}},"({")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4"}},"    "),s("span",{style:{color:"#9CDCFE"}},"viteOptions:"),s("span",{style:{color:"#D4D4D4"}}," {},")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4"}},"    "),s("span",{style:{color:"#9CDCFE"}},"vuePluginOptions:"),s("span",{style:{color:"#D4D4D4"}}," {},")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4"}},"  }),")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4"}},"}")]),e(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),x=s("div",{class:"language-typescript ext-ts line-numbers-mode"},[s("pre",{class:"shiki",style:{"background-color":"#1E1E1E"}},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#C586C0"}},"import"),s("span",{style:{color:"#D4D4D4"}}," { "),s("span",{style:{color:"#9CDCFE"}},"viteBundler"),s("span",{style:{color:"#D4D4D4"}}," } "),s("span",{style:{color:"#C586C0"}},"from"),s("span",{style:{color:"#D4D4D4"}}," "),s("span",{style:{color:"#CE9178"}},"'@vuepress/bundler-vite'")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0"}},"import"),s("span",{style:{color:"#D4D4D4"}}," { "),s("span",{style:{color:"#9CDCFE"}},"defineUserConfig"),s("span",{style:{color:"#D4D4D4"}}," } "),s("span",{style:{color:"#C586C0"}},"from"),s("span",{style:{color:"#D4D4D4"}}," "),s("span",{style:{color:"#CE9178"}},"'@vuepress/cli'")]),e(`
`),s("span",{class:"line"}),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C586C0"}},"export"),s("span",{style:{color:"#D4D4D4"}}," "),s("span",{style:{color:"#C586C0"}},"default"),s("span",{style:{color:"#D4D4D4"}}," "),s("span",{style:{color:"#DCDCAA"}},"defineUserConfig"),s("span",{style:{color:"#D4D4D4"}},"({")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4"}},"  "),s("span",{style:{color:"#9CDCFE"}},"bundler:"),s("span",{style:{color:"#D4D4D4"}}," "),s("span",{style:{color:"#DCDCAA"}},"viteBundler"),s("span",{style:{color:"#D4D4D4"}},"({")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4"}},"    "),s("span",{style:{color:"#9CDCFE"}},"viteOptions:"),s("span",{style:{color:"#D4D4D4"}}," {},")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4"}},"    "),s("span",{style:{color:"#9CDCFE"}},"vuePluginOptions:"),s("span",{style:{color:"#D4D4D4"}}," {},")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4"}},"  }),")]),e(`
`),s("span",{class:"line"},[s("span",{style:{color:"#D4D4D4"}},"})")]),e(`
`),s("span",{class:"line"})])]),s("div",{class:"line-numbers","aria-hidden":"true"},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),k=s("h3",{id:"viteoptions",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#viteoptions","aria-hidden":"true"},"#"),e(" viteOptions")],-1),F=s("li",null,[s("p",null,"\u8BE6\u60C5\uFF1A"),s("p",null,"\u63A5\u6536 Vite \u7684\u6240\u6709\u914D\u7F6E\u9879\u3002")],-1),V=s("p",null,"\u53C2\u8003\uFF1A",-1),A={href:"https://cn.vitejs.dev/config/",target:"_blank",rel:"noopener noreferrer"},w=e("Vite > Config"),B=s("h3",{id:"vuepluginoptions",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#vuepluginoptions","aria-hidden":"true"},"#"),e(" vuePluginOptions")],-1),j=s("p",null,"\u8BE6\u60C5\uFF1A",-1),S=e("\u63A5\u6536 "),O={href:"https://www.npmjs.com/package/@vitejs/plugin-vue",target:"_blank",rel:"noopener noreferrer"},R=e("@vitejs/plugin-vue"),N=e(" \u7684\u6240\u6709\u914D\u7F6E\u9879\u3002"),I=s("p",null,"\u53C2\u8003\uFF1A",-1),M={href:"https://cn.vitejs.dev/plugins/#vitejsplugin-vue",target:"_blank",rel:"noopener noreferrer"},P=e("Vite > \u63D2\u4EF6 > \u5B98\u65B9\u63D2\u4EF6"),G=t(`<h2 id="\u5E38\u89C1\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#\u5E38\u89C1\u95EE\u9898" aria-hidden="true">#</a> \u5E38\u89C1\u95EE\u9898</h2><h3 id="ssr-externals-\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#ssr-externals-\u95EE\u9898" aria-hidden="true">#</a> SSR Externals \u95EE\u9898</h3><p>\u5F53\u4F60\u5F15\u5165\u4E00\u4E2A\u7B2C\u4E09\u65B9\u5E93\uFF08\u5982 <code>foo-lib</code>\uFF09\u65F6\uFF0C\u4F60\u53EF\u80FD\u4F1A\u5728\u6784\u5EFA\u65F6\u9047\u5230\u4E00\u4E2A\u5E38\u89C1\u7684\u9519\u8BEF\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#D4D4D4;">Error [ERR_REQUIRE_ESM]: Must use import to load ES Module: /path/to/foo-lib</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u6B64\u65F6\uFF0C\u4F60\u9700\u8981\u8BBE\u7F6E <code>ssr.noExternal</code> \u914D\u7F6E\u9879\u6765\u89E3\u51B3\u5B83\uFF1A</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="shiki" style="background-color:#1E1E1E;"><code><span class="line"><span style="color:#C586C0;">export</span><span style="color:#D4D4D4;"> </span><span style="color:#C586C0;">default</span><span style="color:#D4D4D4;"> </span><span style="color:#DCDCAA;">defineUserConfig</span><span style="color:#D4D4D4;">({</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#9CDCFE;">bundler:</span><span style="color:#D4D4D4;"> </span><span style="color:#DCDCAA;">viteBundler</span><span style="color:#D4D4D4;">({</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">viteOptions:</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">      </span><span style="color:#6A9955;">// @ts-expect-error: vite \u8FD8\u6CA1\u6709\u7ED9 ssr \u914D\u7F6E\u9879\u63D0\u4F9B\u7C7B\u578B</span></span>
<span class="line"><span style="color:#D4D4D4;">      </span><span style="color:#9CDCFE;">ssr:</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#9CDCFE;">noExternal:</span><span style="color:#D4D4D4;"> [</span><span style="color:#CE9178;">&#39;foo-lib&#39;</span><span style="color:#D4D4D4;">],</span></span>
<span class="line"><span style="color:#D4D4D4;">      },</span></span>
<span class="line"><span style="color:#D4D4D4;">    },</span></span>
<span class="line"><span style="color:#D4D4D4;">  }),</span></span>
<span class="line"><span style="color:#D4D4D4;">})</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6),U=e("VuePress \u4F7F\u7528 Vite \u670D\u52A1\u7AEF\u6E32\u67D3 (SSR) \u6765\u5C06 Markdown \u9884\u6E32\u67D3\u6210 HTML \u6587\u4EF6\u3002\u5C3D\u7BA1\u5B83\u53EF\u4EE5\u5728 VuePress \u4E2D\u6B63\u5E38\u4F7F\u7528\uFF0C\u4F46\u8BE5\u529F\u80FD\u4ECD\u7136\u88AB\u6807\u8BB0\u4E3A\u5B9E\u9A8C\u6027\u80FD\u529B\uFF0C\u56E0\u6B64\u53EF\u80FD\u4F1A\u6709\u4E00\u4E9B\u5C0F\u95EE\u9898\u3002\u60F3\u8981\u5B8C\u5168\u7406\u89E3\u4E0A\u9762\u7684\u62A5\u9519\u539F\u56E0\uFF0C\u4F60\u53EF\u4EE5\u53BB\u4E86\u89E3\u4E00\u4E0B "),L={href:"https://cn.vitejs.dev/guide/ssr.html#ssr-externals",target:"_blank",rel:"noopener noreferrer"},T=e("Vite SSR Externals \u6587\u6863"),q=e(" \u3002");function H(J,Q){const i=a("NpmBadge"),l=a("ExternalLinkIcon"),r=a("CodeGroupItem"),c=a("CodeGroup");return d(),D("div",null,[v,n(i,{package:"@vuepress/bundler-vite"}),s("p",null,[h,s("a",y,[_,n(l)]),m,s("a",b,[C,n(l)]),E]),f,n(c,null,{default:o(()=>[n(r,{title:"JS",active:""},{default:o(()=>[g]),_:1}),n(r,{title:"TS"},{default:o(()=>[x]),_:1})]),_:1}),k,s("ul",null,[F,s("li",null,[V,s("ul",null,[s("li",null,[s("a",A,[w,n(l)])])])])]),B,s("ul",null,[s("li",null,[j,s("p",null,[S,s("a",O,[R,n(l)]),N])]),s("li",null,[I,s("ul",null,[s("li",null,[s("a",M,[P,n(l)])])])])]),G,s("p",null,[U,s("a",L,[T,n(l)]),q])])}var K=p(u,[["render",H],["__file","vite.html.vue"]]);export{K as default};
